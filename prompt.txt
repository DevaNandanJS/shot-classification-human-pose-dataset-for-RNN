You are an expert AI Lead Engineer. I need to refactor the attached `features_pose_centric.py` script to implement our new, optimized "13-Feature Master Set" architecture.

**The Goal:**
for C:\RNN dataset creation\RNN\features_pose_centric.py We are creating a new dataset for a 7-class classifier (e.g., `r_serve`, `l_serve`, `r_forehand`, `l_forehand`, etc.). To do this, we need a single feature vector that is "handedness-agnostic" but still contains all the high-level biomechanical data.

**The Logic (The 13-Feature "Master" Set):**
Instead of calculating 9 features for the right and 9 for the left (18 total), we will create a more efficient 13-feature set. The logic is:
1.  **Shared Features (3):** Calculate side-agnostic features (like `vertical_hip_velocity`, `lateral_trunk_flexion_angle`, `transverse_rotation_proxy`) *once*.
2.  **Right-Side Features (5):** Calculate all arm/leg-specific features for the *right* side (knee angle, shoulder abduction, elbow angle, wrist_y, forearm path).
3.  **Left-Side Features (5):** Calculate all arm/leg-specific features for the *left* side.

This `(3 + 5 + 5) = 13` feature vector gives the RNN all information without redundancy.

**Execution Plan:**

Here is the step-by-step plan to refactor `features_pose_centric.py`:

1.  **Update Globals:**
    * Delete the old `columns_9_features` list.
    * Add a new global list named `COLUMNS_13_FEATURES` that explicitly lists the 13 features in the correct order (3 Shared, 5 Right, 5 Left).

2.  **Remove Handedness Flag (Make "Neutral"):**
    * In the `if __name__ == "__main__":` block, find the `ArgumentParser` and **delete** the `--is_left_handed` argument.
    * In the `torso_scale_and_normalize` function definition, **remove** the `is_left_handed=False` parameter.
    * Inside `torso_scale_and_normalize`, **delete** the entire logic block that flips the x-axis for left-handed players. This function must now *only* return a neutral, non-flipped 26-feature vector.

3.  **Replace Feature Calculator:**
    * **Delete** the *entire* `calculate_9_biomech_features` function.
    * **Create a new function** in its place: `def calculate_13_biomech_features(seq_26_features_yx):`
    * **Inside this new function:**
        * It must calculate all 13 "master" features in one efficient pass.
        * Re-use the internal logic from the old function (like `calculate_angle`, vector definitions, etc.).
        * Calculate the 3 **Shared** features first.
        * Then, calculate the 5 **Right-Side** specific features (e.g., `right_knee_angle`, `right_elbow_angle`, etc.).
        * Then, calculate the 5 **Left-Side** specific features (e.g., `left_knee_angle`, `left_elbow_angle`, etc.).
        * Store them in a `(30, 13)` NumPy array, matching the order of your new `COLUMNS_13_FEATURES` global list.
        * Return this `(30, 13)` array.

4.  **Update the `main` Loop Logic:**
    * **Dynamic Counters:** In `main`, delete the static `IDX_FOREHAND`, `IDX_BACKHAND`, etc. counters. Replace them with a single empty dictionary: `shot_counters = {}`.
    * **Call New Function:** Inside the `if len(sequence_26_features) == NB_IMAGES:` block, replace the call to `calculate_9_biomech_features` with a call to your new function:
        ```python
        sequence_array = np.array(sequence_26_features)
        features_13 = calculate_13_biomech_features(sequence_array)
        ```
    * **Update DataFrame:** Create the DataFrame using the new 13-feature data and column list:
        ```python
        shots_df = pd.DataFrame(features_13, columns=COLUMNS_13_FEATURES)
        ```
    * **Update Saving Logic:** Replace the entire `if/elif` block (for `IDX_FOREHAND`, etc.) with this dynamic logic that uses the `shot_counters` dictionary. This is *critical* for saving our new 7-class labels (e.g., `r_serve`, `l_forehand`):
        ```python
        # Dynamic saving logic
        if shot_class not in shot_counters:
            shot_counters[shot_class] = 1
        else:
            shot_counters[shot_class] += 1
            
        idx = shot_counters[shot_class]
        outpath = Path(args.out).joinpath(f"{shot_class}_{idx:03d}.csv")
        ```
    * **Update Print Statement:** Change the final print statement to reflect the new feature count: `print(f"Saving {shot_class} ({NB_IMAGES} frames, 13 features) to {outpath}")`.
    * **Update `torso_scale_and_normalize` call:** Make sure the call in the `main` loop is updated to remove the `args.is_left_handed` argument.

**Task:**
Execute this plan and provide the complete, refactored `features_pose_centric.py` file.